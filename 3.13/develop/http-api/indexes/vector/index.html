<!doctype html><html lang=en><head><link href=//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css rel=stylesheet><link href=//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css rel=stylesheet><link href=/css/fontawesome-all.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fontawesome-all.min.css rel=stylesheet></noscript><link href=/css/featherlight.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/featherlight.min.css rel=stylesheet></noscript><link href=/css/nucleus.css rel=stylesheet><link href=/css/fonts.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fonts.css rel=stylesheet></noscript><link href=/css/theme.css rel=stylesheet><link href=/css/theme-relearn-light.css rel=stylesheet id=variant-style><link href=/css/print.css rel=stylesheet media=print><script src=/js/variant.js?1751339648></script>
<script>var root_url="/",baseUriFull,baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="",window.T_Copied_to_clipboard="",window.T_Copy_link_to_clipboard="",window.T_Link_copied_to_clipboard="",baseUriFull="http://localhost/",window.variants&&variants.init(["relearn-light"])</script><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.119.0"><meta itemprop=description property="description" content="ArangoDB is a scalable graph database system with native support for other data models and a built-in search engine, for the cloud and on-premises"><meta property="og:url" content="http://localhost/3.13/develop/http-api/indexes/vector/"><meta property="og:title" content="HTTP interface for vector indexes"><meta property="og:type" content="website"><meta property="og:description" content="ArangoDB is a scalable graph database system with native support for other data models and a built-in search engine, for the cloud and on-premises"><meta name=docsearch:version content="3.13"><title>HTTP interface for vector indexes | ArangoDB Documentation</title><link href=/images/favicon.png rel=icon type=image/png><script src=/js/jquery.min.js></script>
<script src=/js/clipboard.min.js?1751339648 defer></script>
<script src=/js/featherlight.min.js?1751339648 defer></script>
<script>var versions=[{alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"},{alias:"stable",deprecated:!1,name:"3.12",version:"3.12.5"},{alias:"3.11",deprecated:!0,name:"3.11",version:"3.11.14"},{alias:"3.10",deprecated:!0,name:"3.10",version:"3.10.14"}]</script><script>var develVersion={alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"}</script><script>var stableVersion={alias:"stable",deprecated:!1,name:"3.12",version:"3.12.5"}</script><script src=/js/codeblocks.js?1751339648 defer></script>
<script src=/js/theme.js?1751339648 defer></script></head><body><noscript>You need to enable JavaScript to use the ArangoDB documentation.</noscript><div id=page-wrapper class=page_content_splash style=height:auto;opacity:0><section id=page-main><section class=page-container id=page-container><header id=header style="transition:.5s padding ease-out,.15s" class="zn_header_white header-splash-new nav-down header-splash-wrap header1"><div class=header-block-left><div class=mobile-menu-toggle><button id=sidebar-toggle-navigation onclick=showSidebarHandler()><svg width="1.33em" height="1.33em" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button></div><div class=version-logo-container><div class="logo-container hasinfocard_img arangodb-logo-large"><div class=logo><a href=https://www.arangodb.com/><img src=/images/logo_main.png alt=ArangoDB title></a></div></div><div class=arangodb-logo-small><a href=https://arangodb.com/><img alt="ArangoDB Logo" src=/images/ArangoDB_Logo_White_small.png></a></div></div></div><div class=container-right style=display:hidden></div><div class=search-and-version-container><a href=# class="home-link is-current" aria-label="Go to home page" onclick=goToHomepage(event)></a><div id=searchbox></div><script type=text/javascript>const SCRIPT_SRC="https://unpkg.com/@inkeep/widgets-embed@0.2.290/dist/embed.js";function loadAndInitializeInkeep(){if(document.querySelector(`script[src="${SCRIPT_SRC}]"`))return;const e=document.createElement("script");e.type="module",e.src=SCRIPT_SRC,e.onload=initializeInkeep,document.head.appendChild(e)}function initializeInkeep(){const e=Inkeep({integrationId:"clo4lx6jk0000s601cp21x2ok",apiKey:"13b4e56966a76e86c6ff359cd795ee6a0412f751d75d6383",organizationId:"org_HGBkkzGAa4KeGJGh",organizationDisplayName:"ArangoDB",primaryBrandColor:"#80a54d",stringReplacementRules:[{matchingRule:{ruleType:"Substring",string:"Arangograph"},replaceWith:"ArangoGraph"},{matchingRule:{ruleType:"Substring",string:"Aql"},replaceWith:"AQL"},{matchingRule:{ruleType:"Substring",string:"Arangodb"},replaceWith:"ArangoDB"}],customCardSettings:[{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arango.qubitpi.org"}},searchTabLabel:"Official Docs"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"developer.arangodb.com"}},searchTabLabel:"Developer Hub"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arangodb.com"}},searchTabLabel:"Home"}]}),t=e.embed({componentType:"ChatButton",properties:{stylesheetUrls:["/css/fonts.css"],fixedPositionXOffset:"52px",baseSettings:{theme:{primaryColors:{textColorOnPrimary:"white"},tokens:{fonts:{body:"'Inter'",heading:"'Inter'"},zIndex:{overlay:1e4,modal:11e3,popover:12e3,skipLink:13e3,toast:14e3,tooltip:15e3}}}},aiChatSettings:{botAvatarSrcUrl:"/images/ArangoDB_Logo_White_small.png",quickQuestions:["What can you do with AQL that is not feasible with SQL?","How do I search for objects within arrays?","Where can I deploy my ArangoDB instance?"],getHelpCallToActions:[{icon:{builtIn:"FaSlack"},name:"Slack",url:"https://arangodb-community.slack.com/"}]},searchSettings:{tabSettings:{isAllTabEnabled:!1,alwaysDisplayedTabs:["Official Docs","Developer Hub","Home"]}}}})}loadAndInitializeInkeep()</script><div class=version-selector><select id=arangodb-version onchange=changeVersion()><option value=3.13>3.13</option><option value=3.12>3.12</option><option value=3.11>3.11</option><option value=3.10>3.10</option><option value=3.9>3.9</option><option value=3.8>3.8</option></select></div></div></header><iframe src=/nav.html title=description id=menu-iframe class="menu-iframe active" style=opacity:0></iframe><div class=container-main><div class=row-main><nav id=breadcrumbs><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><meta itemprop=itemListOrder content="Descending"><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="3.13"><a itemprop=item class=link href=/3.13/><span itemprop=name class=breadcrumb-entry>3.13.0</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Develop"><a itemprop=item class=link href=/3.13/develop/><span itemprop=name class=breadcrumb-entry>Develop</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="HTTP API"><a itemprop=item class=link href=/3.13/develop/http-api/><span itemprop=name class=breadcrumb-entry>HTTP API</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Indexes"><a itemprop=item class=link href=/3.13/develop/http-api/indexes/><span itemprop=name class=breadcrumb-entry>Indexes</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Vector"><a itemprop=item class=link href=/3.13/develop/http-api/indexes/vector/><span itemprop=name class=breadcrumb-entry>Vector</span></a></li></ol></nav><article class=default><div class="box notices cstyle warning"><div class=box-content-container><div class=box-content><i class="fas fa-exclamation-triangle"></i><div class=box-text><p>ArangoDB v3.13 is under development and not released yet.
This documentation is not final and potentially incomplete.</p></div></div></div></div><hgroup><h1>HTTP interface for vector indexes</h1></hgroup><p><small>Introduced in: v3.12.4</small></p><h2 id=create-a-vector-index>Create a vector index <a href=/3.13/develop/http-api/indexes/vector/#create-a-vector-index class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><div class=openapi><div class=endpoint><span class="endpoint-method regular-font bold-text method-post">POST</span>
<span class=endpoint-path>/_db/{database-name}/_api/index</span></div><div class="openapi-description regular-font">Creates a vector index for the collection <code>collection-name</code>, if
it does not already exist.</div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Path Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=create-a-vector-index_path_database-name><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">database-name*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#create-a-vector-index_path_database-name><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The name of the database.</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Query Parameters</div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=create-a-vector-index_query_collection><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">collection*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#create-a-vector-index_query_collection><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The collection name.</p></div></details></li></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>HTTP Headers</div><div><ul class=openapi-table></ul></div></div><div class="openapi-parameters regular-font"><div class=openapi-table-title>Request Body <span class=openapi-content-type>application/json</span> <span class=openapi-property-type>object</span></div><div><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=create-a-vector-index_body_fields><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">fields*</span>
<span class=openapi-property-type><span class=bold-text>array of strings</span></span>
<a href=#create-a-vector-index_body_fields><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>A list with exactly one attribute path to specify
where the vector embedding is stored in each document. The vector data needs
to be populated before creating the index.</p><p>If you want to index another vector embedding attribute, you need to create a
separate vector index.</p></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-vector-index_body_inBackground><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">inBackground</span>
<span class=openapi-property-type><span class=bold-text>boolean</span> (default: <code>false</code>)</span>
<a href=#create-a-vector-index_body_inBackground><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>Set this option to <code>true</code> to keep the collection/shards available for
write operations by not using an exclusive write lock for the duration
of the index creation.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-vector-index_body_name><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">name</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#create-a-vector-index_body_name><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>A user-defined name for the index for easier
identification. If not specified, a name is automatically generated.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-vector-index_body_parallelism><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">parallelism</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-a-vector-index_body_parallelism><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The number of threads to use for indexing. Default: <code>2</code></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-vector-index_body_params><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">params*</span>
<span class=openapi-property-type><span class=bold-text>object</span></span>
<a href=#create-a-vector-index_body_params><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The parameters as used by the Faiss library.</p><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=create-a-vector-index_body_params_defaultNProbe><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">defaultNProbe</span>
<span class=openapi-property-type><span class=bold-text>integer</span> (default: <code>1</code>)</span>
<a href=#create-a-vector-index_body_params_defaultNProbe><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>How many neighboring centroids to
consider for the search results by default. The larger the number, the slower
the search but the better the search results. The default is <code>1</code>. You should
generally use a higher value here or per query via the <code>nProbe</code> option of
the vector similarity functions.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-vector-index_body_params_dimension><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">dimension*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-a-vector-index_body_params_dimension><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The vector dimension. The attribute to index needs to
have this many elements in the array that stores the vector embedding.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-vector-index_body_params_factory><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">factory</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#create-a-vector-index_body_params_factory><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font><p>You can specify an index factory string that is
forwarded to the underlying Faiss library, allowing you to combine different
advanced options. Examples:</p><ul><li><code>"IVF100_HNSW10,Flat"</code></li><li><code>"IVF100,SQ4"</code></li><li><code>"IVF10_HNSW5,Flat"</code></li><li><code>"IVF100_HNSW5,PQ256x16"</code>
The base index must be an inverted file (IVF) to work with ArangoDB.
If you don&rsquo;t specify an index factory, the value is equivalent to
<code>IVF&lt;nLists>,Flat</code>. For more information on how to create these custom
indexes, see the <a href=https://github.com/facebookresearch/faiss/wiki/The-index-factory target=_blank rel="noopener noreferrer" class=link>Faiss Wiki</a>&nbsp;<i class="fas fa-external-link-alt"></i>.</li></ul></p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-vector-index_body_params_metric><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">metric*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#create-a-vector-index_body_params_metric><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>Possible values: <code>"cosine"</code>, <code>"l2"</code></p><p class=regular-font>Whether to use <code>cosine</code> or <code>l2</code> (Euclidean) distance calculation.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-vector-index_body_params_nLists><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">nLists*</span>
<span class=openapi-property-type><span class=bold-text>integer</span></span>
<a href=#create-a-vector-index_body_params_nLists><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The number of Voronoi cells to partition the vector space
into, respectively the number of centroids in the index. What value to choose
depends on the data distribution and chosen metric. According to
<a href=https://arxiv.org/abs/2401.08281 target=_blank rel="noopener noreferrer" class=link>The Faiss library paper</a>&nbsp;<i class="fas fa-external-link-alt"></i>, it should be
around <code>15 * sqrt(N)</code> where <code>N</code> is the number of documents in the collection,
respectively the number of documents in the shard for cluster deployments.
A bigger value produces more correct results but increases the training time
and thus how long it takes to build the index. It cannot be bigger than the
number of documents.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-vector-index_body_params_trainingIterations><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">trainingIterations</span>
<span class=openapi-property-type><span class=bold-text>integer</span> (default: <code>25</code>)</span>
<a href=#create-a-vector-index_body_params_trainingIterations><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The number of iterations in the
training process. The default is <code>25</code>. Smaller values lead to a faster index
creation but may yield worse search results.</p></div></details></li></ul></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-vector-index_body_type><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">type*</span>
<span class=openapi-property-type><span class=bold-text>string</span></span>
<a href=#create-a-vector-index_body_type><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The index type. Needs to be <code>"vector"</code>.</p></div></details></li></ul></div></div><div class="responses regular-font"><div class=openapi-table-title>Responses</div><div class=openapi-responses><ul class=openapi-table><li class="openapi-table-row regular-font"><details id=create-a-vector-index_res_200><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">200</span>
<span class="openapi-property-type bold-text">OK</span>
<a href=#create-a-vector-index_res_200><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The index exists already.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-vector-index_res_201><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">201</span>
<span class="openapi-property-type bold-text">Created</span>
<a href=#create-a-vector-index_res_201><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The index is created as there is no such existing index.</p></div></details></li><li class="openapi-table-row regular-font"><details id=create-a-vector-index_res_404><summary class="openapi-prop collapsed"><span class="openapi-property-name bold-text">404</span>
<span class="openapi-property-type bold-text">Not Found</span>
<a href=#create-a-vector-index_res_404><i class="fa fa-link" style=font-size:12px></i></a></summary><div class=openapi-prop-content><p class=regular-font>The collection is unknown.</p></div></details></li></ul></div></div></div><nav class=pagination><span class=prev><a class="nav nav-prev link" href=/3.13/develop/http-api/indexes/fulltext/><i class="fas fa-chevron-left fa-fw"></i><p>Fulltext</p></a></span><span class=next><a class="nav nav-next link" href=/3.13/develop/http-api/views/><p>Views</p><i class="fas fa-chevron-right fa-fw"></i></a></span></nav></article><div class=toc-container><a class=edit-page aria-label href=https://github.com/arangodb/docs-hugo/edit/main/site/content/3.13/develop/http-api/indexes/vector.md target=_blank><i class="fab fa-fw fa-github edit-page-icon"></i></a></div></div></div></section></section></div><button class="back-to-top hidden" onclick=goToTop(event) href=#><i class="fa fa-arrow-up"></i></button><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3>
<script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3></script>
<script type=text/javascript>window.setupDocSearch=function(e){if(!window.docsearch)return;docsearch({appId:"OK3ZBQ5982",apiKey:"500c85ccecb335d507fe4449aed12e1d",indexName:"arangodbdocs",insights:!0,container:"#searchbox",debug:!1,maxResultsPerGroup:10,searchParameters:{facetFilters:[`version:${e}`]}})}</script></body></html>