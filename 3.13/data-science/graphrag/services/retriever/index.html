<!doctype html><html lang=en><head><link href=//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css rel=stylesheet><link href=//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css rel=stylesheet><link href=/css/fontawesome-all.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fontawesome-all.min.css rel=stylesheet></noscript><link href=/css/featherlight.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/featherlight.min.css rel=stylesheet></noscript><link href=/css/nucleus.css rel=stylesheet><link href=/css/fonts.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fonts.css rel=stylesheet></noscript><link href=/css/theme.css rel=stylesheet><link href=/css/theme-relearn-light.css rel=stylesheet id=variant-style><link href=/css/print.css rel=stylesheet media=print><script src=/js/variant.js?1754062304></script>
<script>var root_url="/",baseUriFull,baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="",window.T_Copied_to_clipboard="",window.T_Copy_link_to_clipboard="",window.T_Link_copied_to_clipboard="",baseUriFull="http://localhost/",window.variants&&variants.init(["relearn-light"])</script><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.119.0"><meta itemprop=description property="description" content="The Retriever is a powerful service that enables intelligent search and retrieval from knowledge graphs created by the Importer service"><meta property="og:url" content="http://localhost/3.13/data-science/graphrag/services/retriever/"><meta property="og:title" content="Retriever Service"><meta property="og:type" content="website"><meta property="og:description" content="The Retriever is a powerful service that enables intelligent search and retrieval from knowledge graphs created by the Importer service"><meta name=docsearch:version content="3.13"><title>Retriever Service | ArangoDB Documentation</title><link href=/images/favicon.png rel=icon type=image/png><script src=/js/jquery.min.js></script>
<script src=/js/clipboard.min.js?1754062304 defer></script>
<script src=/js/featherlight.min.js?1754062304 defer></script>
<script>var versions=[{alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"},{alias:"stable",deprecated:!1,name:"3.12",version:"3.12.5"},{alias:"3.11",deprecated:!0,name:"3.11",version:"3.11.14"},{alias:"3.10",deprecated:!0,name:"3.10",version:"3.10.14"}]</script><script>var develVersion={alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"}</script><script>var stableVersion={alias:"stable",deprecated:!1,name:"3.12",version:"3.12.5"}</script><script src=/js/codeblocks.js?1754062304 defer></script>
<script src=/js/theme.js?1754062304 defer></script></head><body><noscript>You need to enable JavaScript to use the ArangoDB documentation.</noscript><div id=page-wrapper class=page_content_splash style=height:auto;opacity:0><section id=page-main><section class=page-container id=page-container><header id=header style="transition:.5s padding ease-out,.15s" class="zn_header_white header-splash-new nav-down header-splash-wrap header1"><div class=header-block-left><div class=mobile-menu-toggle><button id=sidebar-toggle-navigation onclick=showSidebarHandler()><svg width="1.33em" height="1.33em" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button></div><div class=version-logo-container><div class="logo-container hasinfocard_img arangodb-logo-large"><div class=logo><a href=https://www.arangodb.com/><img src=/images/logo_main.png alt=ArangoDB title></a></div></div><div class=arangodb-logo-small><a href=https://arangodb.com/><img alt="ArangoDB Logo" src=/images/ArangoDB_Logo_White_small.png></a></div></div></div><div class=container-right style=display:hidden></div><div class=search-and-version-container><a href=# class="home-link is-current" aria-label="Go to home page" onclick=goToHomepage(event)></a><div id=searchbox></div><script type=text/javascript>const SCRIPT_SRC="https://unpkg.com/@inkeep/widgets-embed@0.2.290/dist/embed.js";function loadAndInitializeInkeep(){if(document.querySelector(`script[src="${SCRIPT_SRC}]"`))return;const e=document.createElement("script");e.type="module",e.src=SCRIPT_SRC,e.onload=initializeInkeep,document.head.appendChild(e)}function initializeInkeep(){const e=Inkeep({integrationId:"clo4lx6jk0000s601cp21x2ok",apiKey:"13b4e56966a76e86c6ff359cd795ee6a0412f751d75d6383",organizationId:"org_HGBkkzGAa4KeGJGh",organizationDisplayName:"ArangoDB",primaryBrandColor:"#80a54d",stringReplacementRules:[{matchingRule:{ruleType:"Substring",string:"Arangograph"},replaceWith:"ArangoGraph"},{matchingRule:{ruleType:"Substring",string:"Aql"},replaceWith:"AQL"},{matchingRule:{ruleType:"Substring",string:"Arangodb"},replaceWith:"ArangoDB"}],customCardSettings:[{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arango.qubitpi.org"}},searchTabLabel:"Official Docs"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"developer.arangodb.com"}},searchTabLabel:"Developer Hub"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arangodb.com"}},searchTabLabel:"Home"}]}),t=e.embed({componentType:"ChatButton",properties:{stylesheetUrls:["/css/fonts.css"],fixedPositionXOffset:"52px",baseSettings:{theme:{primaryColors:{textColorOnPrimary:"white"},tokens:{fonts:{body:"'Inter'",heading:"'Inter'"},zIndex:{overlay:1e4,modal:11e3,popover:12e3,skipLink:13e3,toast:14e3,tooltip:15e3}}}},aiChatSettings:{botAvatarSrcUrl:"/images/ArangoDB_Logo_White_small.png",quickQuestions:["What can you do with AQL that is not feasible with SQL?","How do I search for objects within arrays?","Where can I deploy my ArangoDB instance?"],getHelpCallToActions:[{icon:{builtIn:"FaSlack"},name:"Slack",url:"https://arangodb-community.slack.com/"}]},searchSettings:{tabSettings:{isAllTabEnabled:!1,alwaysDisplayedTabs:["Official Docs","Developer Hub","Home"]}}}})}loadAndInitializeInkeep()</script><div class=version-selector><select id=arangodb-version onchange=changeVersion()><option value=3.13>3.13</option><option value=3.12>3.12</option><option value=3.11>3.11</option><option value=3.10>3.10</option><option value=3.9>3.9</option><option value=3.8>3.8</option></select></div></div></header><iframe src=/nav.html title=description id=menu-iframe class="menu-iframe active" style=opacity:0></iframe><div class=container-main><div class=row-main><nav id=breadcrumbs><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><meta itemprop=itemListOrder content="Descending"><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="3.13"><a itemprop=item class=link href=/3.13/><span itemprop=name class=breadcrumb-entry>3.13.0</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="GenAI & Data Science"><a itemprop=item class=link href=/3.13/data-science/><span itemprop=name class=breadcrumb-entry>GenAI & Data Science</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="GraphRAG"><a itemprop=item class=link href=/3.13/data-science/graphrag/><span itemprop=name class=breadcrumb-entry>GraphRAG</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Services"><a itemprop=item class=link href=/3.13/data-science/graphrag/services/><span itemprop=name class=breadcrumb-entry>Services</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Retriever"><a itemprop=item class=link href=/3.13/data-science/graphrag/services/retriever/><span itemprop=name class=breadcrumb-entry>Retriever</span></a></li></ol></nav><article class=default><div class="box notices cstyle warning"><div class=box-content-container><div class=box-content><i class="fas fa-exclamation-triangle"></i><div class=box-text><p>ArangoDB v3.13 is under development and not released yet.
This documentation is not final and potentially incomplete.</p></div></div></div></div><hgroup><h1>Retriever Service</h1><p class=lead>The Retriever is a powerful service that enables intelligent search and retrieval from knowledge graphs created by the Importer service</p></hgroup><p class=labels><span class=label>ArangoDB Platform</span></p><div class="box notices cstyle tip"><div class=box-content-container><div class=box-content><i class="fas fa-check"></i><div class=box-text>The ArangoDB Platform & GenAI Suite is available as a pre-release. To get
exclusive early access, <a href=https://arangodb.com/contact/ target=_blank rel="noopener noreferrer" class=link>get in touch</a>&nbsp;<i class="fas fa-external-link-alt"></i> with
the ArangoDB team.</div></div></div></div><h2 id=overview>Overview <a href=/3.13/data-science/graphrag/services/retriever/#overview class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>The Retriever service offers two distinct search methods:</p><ul><li><strong>Global search</strong>: Analyzes entire document to identify themes and patterns,
perfect for high-level insights and comprehensive summaries.</li><li><strong>Local search</strong>: Focuses on specific entities and their relationships, ideal
for detailed queries about particular concepts.</li></ul><p>The service supports both private (Triton Inference Server) and public (OpenAI)
LLM deployments, making it flexible for various security and infrastructure
requirements. With simple HTTP endpoints, you can easily query your knowledge
graph and get contextually relevant responses.</p><p><strong>Key features:</strong></p><ul><li>Dual search methods for different query types</li><li>Support for both private and public LLM deployments</li><li>Simple REST API interface</li><li>Integration with ArangoDB knowledge graphs</li><li>Configurable community hierarchy levels</li></ul><h2 id=search-methods>Search methods <a href=/3.13/data-science/graphrag/services/retriever/#search-methods class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>The Retriever service enables intelligent search and retrieval of information
from your knowledge graph. It provides two powerful search methods, global Search
and local Search, that leverage the structured knowledge graph created by the Importer
to deliver accurate and contextually relevant responses to your natural language queries.</p><h3 id=global-search>Global search <a href=/3.13/data-science/graphrag/services/retriever/#global-search class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>Global search is designed for queries that require understanding and aggregation
of information across your entire document. It&rsquo;s particularly effective for questions
about overall themes, patterns, or high-level insights in your data.</p><ul><li><strong>Community-Based Analysis</strong>: Uses pre-generated community reports from your
knowledge graph to understand the overall structure and themes of your data,</li><li><strong>Map-Reduce Processing</strong>:<ul><li><strong>Map Stage</strong>: Processes community reports in parallel, generating intermediate responses with rated points.</li><li><strong>Reduce Stage</strong>: Aggregates the most important points to create a comprehensive final response.</li></ul></li></ul><p><strong>Best use cases</strong>:</p><ul><li>&ldquo;What are the main themes in the dataset?&rdquo;</li><li>&ldquo;Summarize the key findings across all documents&rdquo;</li><li>&ldquo;What are the most important concepts discussed?&rdquo;</li></ul><h3 id=local-search>Local search <a href=/3.13/data-science/graphrag/services/retriever/#local-search class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>Local search focuses on specific entities and their relationships within your
knowledge graph. It is ideal for detailed queries about particular concepts,
entities, or relationships.</p><ul><li><strong>Entity Identification</strong>: Identifies relevant entities from the knowledge graph based on the query.</li><li><strong>Context Gathering</strong>: Collects:<ul><li>Related text chunks from original documents.</li><li>Connected entities and their strongest relationships.</li><li>Entity descriptions and attributes.</li><li>Context from the community each entity belongs to.</li></ul></li><li><strong>Prioritized Response</strong>: Generates a response using the most relevant gathered information.</li></ul><p><strong>Best use cases</strong>:</p><ul><li>&ldquo;What are the properties of [specific entity]?&rdquo;</li><li>&ldquo;How is [entity A] related to [entity B]?&rdquo;</li><li>&ldquo;What are the key details about [specific concept]?&rdquo;</li></ul><h2 id=installation>Installation <a href=/3.13/data-science/graphrag/services/retriever/#installation class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>The Retriever service can be configured to use either the Triton Inference Server
(for private LLM deployments) or OpenAI/OpenRouter (for public LLM deployments).</p><p>To start the service, use the GenAI service endpoint <code>/v1/graphragretriever</code>.
Please refer to the documentation of <a href=/3.13/data-science/graphrag/services/gen-ai/ class=link>GenAI service</a> for more
information on how to use it.</p><h3 id=using-triton-inference-server-private-llm>Using Triton Inference Server (Private LLM) <a href=/3.13/data-science/graphrag/services/retriever/#using-triton-inference-server-private-llm class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>The first step is to install the LLM Host service with the LLM and
embedding models of your choice. The setup will the use the
Triton Inference Server and MLflow at the backend.
For more details, please refer to the <a href=/3.13/data-science/graphrag/services/triton-inference-server/ class=link>Triton Inference Server</a>
and <a href=/3.13/data-science/graphrag/services/mlflow/ class=link>Mlflow</a> documentation.</p><p>Once the <code>llmhost</code> service is up-and-running, then you can start the Importer
service using the below configuration:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;env&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;username&#34;</span><span class=p>:</span> <span class=s2>&#34;your_username&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;db_name&#34;</span><span class=p>:</span> <span class=s2>&#34;your_database_name&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;api_provider&#34;</span><span class=p>:</span> <span class=s2>&#34;triton&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;triton_url&#34;</span><span class=p>:</span> <span class=s2>&#34;your-arangodb-llm-host-url&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;triton_model&#34;</span><span class=p>:</span> <span class=s2>&#34;mistral-nemo-instruct&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Where:</p><ul><li><code>username</code>: ArangoDB database user with permissions to access collections.</li><li><code>db_name</code>: Name of the ArangoDB database where the knowledge graph is stored.</li><li><code>api_provider</code>: Specifies which LLM provider to use.</li><li><code>triton_url</code>: URL of your Triton Inference Server instance. This should be the URL where your <code>llmhost</code> service is running.</li><li><code>triton_model</code>: Name of the LLM model to use for text processing.</li></ul><h3 id=using-openai-public-llm>Using OpenAI (Public LLM) <a href=/3.13/data-science/graphrag/services/retriever/#using-openai-public-llm class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;env&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;openai_api_key&#34;</span><span class=p>:</span> <span class=s2>&#34;your_openai_api_key&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;username&#34;</span><span class=p>:</span> <span class=s2>&#34;your_username&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;db_name&#34;</span><span class=p>:</span> <span class=s2>&#34;your_database_name&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;api_provider&#34;</span><span class=p>:</span> <span class=s2>&#34;openai&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Where:</p><ul><li><code>username</code>: ArangoDB database user with permissions to access collections.</li><li><code>db_name</code>: Name of the ArangoDB database where the knowledge graph is stored.</li><li><code>api_provider</code>: Specifies which LLM provider to use.</li><li><code>openai_api_key</code>: Your OpenAI API key.</li></ul><div class="box notices cstyle info"><div class=box-content-container><div class=box-content><i class="fas fa-info-circle"></i><div class=box-text>By default, for OpenAI API, the service is using
<code>gpt-4o-mini</code> and <code>text-embedding-3-small</code> models as LLM and
embedding model respectively.</div></div></div></div><h3 id=using-openrouter-gemini-anthropic-etc>Using OpenRouter (Gemini, Anthropic, etc.) <a href=/3.13/data-science/graphrag/services/retriever/#using-openrouter-gemini-anthropic-etc class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>OpenRouter makes it possible to connect to a huge array of LLM API providers,
including non-OpenAI LLMs like Gemini Flash, Anthropic Claude and publicly hosted
open-source models.</p><p>When using the OpenRouter option, the LLM responses are served via OpenRouter while
OpenAI is used for the embedding model.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;env&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;db_name&#34;</span><span class=p>:</span> <span class=s2>&#34;your_database_name&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;username&#34;</span><span class=p>:</span> <span class=s2>&#34;your_username&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;api_provider&#34;</span><span class=p>:</span> <span class=s2>&#34;openrouter&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;openai_api_key&#34;</span><span class=p>:</span> <span class=s2>&#34;your_openai_api_key&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;openrouter_api_key&#34;</span><span class=p>:</span> <span class=s2>&#34;your_openrouter_api_key&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;openrouter_model&#34;</span><span class=p>:</span> <span class=s2>&#34;mistralai/mistral-nemo&#34;</span>  <span class=c1>// Specify a model here
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span></code></pre></div><p>Where:</p><ul><li><code>username</code>: ArangoDB database user with permissions to access collections.</li><li><code>db_name</code>: Name of the ArangoDB database where the knowledge graph is stored.</li><li><code>api_provider</code>: Specifies which LLM provider to use.</li><li><code>openai_api_key</code>: Your OpenAI API key (for the embedding model).</li><li><code>openrouter_api_key</code>: Your OpenRouter API key (for the LLM).</li><li><code>openrouter_model</code>: Desired LLM (optional; default is <code>mistral-nemo</code>).</li></ul><div class="box notices cstyle info"><div class=box-content-container><div class=box-content><i class="fas fa-info-circle"></i><div class=box-text>When using OpenRouter, the service defaults to <code>mistral-nemo</code> for generation
(via OpenRouter) and <code>text-embedding-3-small</code> for embeddings (via OpenAI).</div></div></div></div><h2 id=executing-queries>Executing queries <a href=/3.13/data-science/graphrag/services/retriever/#executing-queries class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>After the Retriever service is installed successfully, you can interact with
it using the following HTTP endpoints, based on the selected search method.</p><div class=tab-panel><div class=tab-content><div class=tab-nav><button data-tab-group=executing-queries data-tab-item="Local search" class="tab-nav-button selected" onclick='switchTab("executing-queries","Local search",event)'>
<span>Local search</span></button>
<button data-tab-group=executing-queries data-tab-item="Global search" class=tab-nav-button onclick='switchTab("executing-queries","Global search",event)'>
<span>Global search</span></button></div><div data-tab-item="Local search" data-tab-group=executing-queries class="tab-item
selected"><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -X POST /v1/graphrag-query <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  -H <span class=s2>&#34;Content-Type: application/json&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  -d <span class=s1>&#39;{
</span></span></span><span class=line><span class=cl><span class=s1>    &#34;query&#34;: &#34;What is the AR3 Drone?&#34;,
</span></span></span><span class=line><span class=cl><span class=s1>    &#34;query_type&#34;: 2,
</span></span></span><span class=line><span class=cl><span class=s1>    &#34;provider&#34;: 0
</span></span></span><span class=line><span class=cl><span class=s1>  }&#39;</span>
</span></span></code></pre></div></div><div data-tab-item="Global search" data-tab-group=executing-queries class=tab-item><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -X POST /v1/graphrag-query <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  -H <span class=s2>&#34;Content-Type: application/json&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  -d <span class=s1>&#39;{
</span></span></span><span class=line><span class=cl><span class=s1>    &#34;query&#34;: &#34;What is the AR3 Drone?&#34;,
</span></span></span><span class=line><span class=cl><span class=s1>    &#34;level&#34;: 1,
</span></span></span><span class=line><span class=cl><span class=s1>    &#34;query_type&#34;: 1,
</span></span></span><span class=line><span class=cl><span class=s1>    &#34;provider&#34;: 0
</span></span></span><span class=line><span class=cl><span class=s1>  }&#39;</span>
</span></span></code></pre></div></div></div></div><p>The request parameters are the following:</p><ul><li><code>query</code>: Your search query text.</li><li><code>level</code>: The community hierarchy level to use for the search (<code>1</code> for top-level communities).</li><li><code>query_type</code>: The type of search to perform.<ul><li><code>1</code>: Global search.</li><li><code>2</code>: Local search.</li></ul></li><li><code>provider</code>: The LLM provider to use<ul><li><code>0</code>: OpenAI (or OpenRouter)</li><li><code>1</code>: Triton</li></ul></li></ul><h2 id=health-check>Health check <a href=/3.13/data-science/graphrag/services/retriever/#health-check class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>You can also monitor the service health:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>GET /v1/health
</span></span></code></pre></div><h2 id=best-practices>Best Practices <a href=/3.13/data-science/graphrag/services/retriever/#best-practices class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><ul><li><p><strong>Choose the right search method</strong>:</p><ul><li>Use global search for broad, thematic queries.</li><li>Use local search for specific entity or relationship queries.</li></ul></li><li><p><strong>Performance considerations</strong>:</p><ul><li>Global search may take longer due to its map-reduce process.</li><li>Local search is typically faster for concrete queries.</li></ul></li></ul><h2 id=api-reference>API Reference <a href=/3.13/data-science/graphrag/services/retriever/#api-reference class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>For detailed API documentation, see the
<a href=https://arangoml.github.io/platform-dss-api/graphrag_retrievers/proto/index.html target=_blank rel="noopener noreferrer" class=link>GraphRAG Retrievers API Reference</a>&nbsp;<i class="fas fa-external-link-alt"></i>.</p><nav class=pagination><span class=prev><a class="nav nav-prev link" href=/3.13/data-science/graphrag/services/importer/><i class="fas fa-chevron-left fa-fw"></i><p>Importer</p></a></span><span class=next><a class="nav nav-next link" href=/3.13/data-science/graphrag/services/mlflow/><p>MLflow</p><i class="fas fa-chevron-right fa-fw"></i></a></span></nav></article><div class=toc-container><a class=edit-page aria-label href=https://github.com/arangodb/docs-hugo/edit/main/site/content/3.13/data-science/graphrag/services/retriever.md target=_blank><i class="fab fa-fw fa-github edit-page-icon"></i></a><div class=toc><div class=toc-content><div class=toc-header><p>On this page</p></div><nav id=TableOfContents><div class=level-2><a href=#overview>Overview</a></div><div class=level-2><a href=#search-methods>Search methods</a></div><div class=level-3><a href=#global-search>Global search</a></div><div class=level-3><a href=#local-search>Local search</a></div><div class=level-2><a href=#installation>Installation</a></div><div class=level-3><a href=#using-triton-inference-server-private-llm>Using Triton Inference Server (Private LLM)</a></div><div class=level-3><a href=#using-openai-public-llm>Using OpenAI (Public LLM)</a></div><div class=level-3><a href=#using-openrouter-gemini-anthropic-etc>Using OpenRouter (Gemini, Anthropic, etc.)</a></div><div class=level-2><a href=#executing-queries>Executing queries</a></div><div class=level-2><a href=#health-check>Health check</a></div><div class=level-2><a href=#best-practices>Best Practices</a></div><div class=level-2><a href=#api-reference>API Reference</a></div></nav></div></div></div></div></div></section></section></div><button class="back-to-top hidden" onclick=goToTop(event) href=#><i class="fa fa-arrow-up"></i></button><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3>
<script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3></script>
<script type=text/javascript>window.setupDocSearch=function(e){if(!window.docsearch)return;docsearch({appId:"OK3ZBQ5982",apiKey:"500c85ccecb335d507fe4449aed12e1d",indexName:"arangodbdocs",insights:!0,container:"#searchbox",debug:!1,maxResultsPerGroup:10,searchParameters:{facetFilters:[`version:${e}`]}})}</script></body></html>