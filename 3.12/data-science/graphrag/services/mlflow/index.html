<!doctype html><html lang=en><head><link href=//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css rel=stylesheet><link href=//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css rel=stylesheet><link href=/css/fontawesome-all.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fontawesome-all.min.css rel=stylesheet></noscript><link href=/css/featherlight.min.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/featherlight.min.css rel=stylesheet></noscript><link href=/css/nucleus.css rel=stylesheet><link href=/css/fonts.css rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fonts.css rel=stylesheet></noscript><link href=/css/theme.css rel=stylesheet><link href=/css/theme-relearn-light.css rel=stylesheet id=variant-style><link href=/css/print.css rel=stylesheet media=print><script src=/js/variant.js?1754590736></script>
<script>var root_url="/",baseUriFull,baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="",window.T_Copied_to_clipboard="",window.T_Copy_link_to_clipboard="",window.T_Link_copied_to_clipboard="",baseUriFull="http://localhost/",window.variants&&variants.init(["relearn-light"])</script><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.119.0"><meta itemprop=description property="description" content="The ArangoDB MLflow Service integrates the MLflow platform for managing the full machine learning lifecycle into the ArangoDB Platform"><meta property="og:url" content="http://localhost/3.12/data-science/graphrag/services/mlflow/"><meta property="og:title" content="ArangoDB MLflow Service"><meta property="og:type" content="website"><meta property="og:description" content="The ArangoDB MLflow Service integrates the MLflow platform for managing the full machine learning lifecycle into the ArangoDB Platform"><meta name=docsearch:version content="3.12"><title>ArangoDB MLflow Service | ArangoDB Documentation</title><link href=/images/favicon.png rel=icon type=image/png><script src=/js/jquery.min.js></script>
<script src=/js/clipboard.min.js?1754590736 defer></script>
<script src=/js/featherlight.min.js?1754590736 defer></script>
<script>var versions=[{alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"},{alias:"stable",deprecated:!1,name:"3.12",version:"3.12.5"},{alias:"3.11",deprecated:!0,name:"3.11",version:"3.11.14"},{alias:"3.10",deprecated:!0,name:"3.10",version:"3.10.14"}]</script><script>var develVersion={alias:"devel",deprecated:!1,name:"3.13",version:"3.13.0"}</script><script>var stableVersion={alias:"stable",deprecated:!1,name:"3.12",version:"3.12.5"}</script><script src=/js/codeblocks.js?1754590736 defer></script>
<script src=/js/theme.js?1754590736 defer></script></head><body><noscript>You need to enable JavaScript to use the ArangoDB documentation.</noscript><div id=page-wrapper class=page_content_splash style=height:auto;opacity:0><section id=page-main><section class=page-container id=page-container><header id=header style="transition:.5s padding ease-out,.15s" class="zn_header_white header-splash-new nav-down header-splash-wrap header1"><div class=header-block-left><div class=mobile-menu-toggle><button id=sidebar-toggle-navigation onclick=showSidebarHandler()><svg width="1.33em" height="1.33em" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button></div><div class=version-logo-container><div class="logo-container hasinfocard_img arangodb-logo-large"><div class=logo><a href=https://www.arangodb.com/><img src=/images/logo_main.png alt=ArangoDB title></a></div></div><div class=arangodb-logo-small><a href=https://arangodb.com/><img alt="ArangoDB Logo" src=/images/ArangoDB_Logo_White_small.png></a></div></div></div><div class=container-right style=display:hidden></div><div class=search-and-version-container><a href=# class="home-link is-current" aria-label="Go to home page" onclick=goToHomepage(event)></a><div id=searchbox></div><script type=text/javascript>const SCRIPT_SRC="https://unpkg.com/@inkeep/widgets-embed@0.2.290/dist/embed.js";function loadAndInitializeInkeep(){if(document.querySelector(`script[src="${SCRIPT_SRC}]"`))return;const e=document.createElement("script");e.type="module",e.src=SCRIPT_SRC,e.onload=initializeInkeep,document.head.appendChild(e)}function initializeInkeep(){const e=Inkeep({integrationId:"clo4lx6jk0000s601cp21x2ok",apiKey:"13b4e56966a76e86c6ff359cd795ee6a0412f751d75d6383",organizationId:"org_HGBkkzGAa4KeGJGh",organizationDisplayName:"ArangoDB",primaryBrandColor:"#80a54d",stringReplacementRules:[{matchingRule:{ruleType:"Substring",string:"Arangograph"},replaceWith:"ArangoGraph"},{matchingRule:{ruleType:"Substring",string:"Aql"},replaceWith:"AQL"},{matchingRule:{ruleType:"Substring",string:"Arangodb"},replaceWith:"ArangoDB"}],customCardSettings:[{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arango.qubitpi.org"}},searchTabLabel:"Official Docs"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"developer.arangodb.com"}},searchTabLabel:"Developer Hub"},{filters:{UrlMatch:{ruleType:"PartialUrl",partialUrl:"arangodb.com"}},searchTabLabel:"Home"}]}),t=e.embed({componentType:"ChatButton",properties:{stylesheetUrls:["/css/fonts.css"],fixedPositionXOffset:"52px",baseSettings:{theme:{primaryColors:{textColorOnPrimary:"white"},tokens:{fonts:{body:"'Inter'",heading:"'Inter'"},zIndex:{overlay:1e4,modal:11e3,popover:12e3,skipLink:13e3,toast:14e3,tooltip:15e3}}}},aiChatSettings:{botAvatarSrcUrl:"/images/ArangoDB_Logo_White_small.png",quickQuestions:["What can you do with AQL that is not feasible with SQL?","How do I search for objects within arrays?","Where can I deploy my ArangoDB instance?"],getHelpCallToActions:[{icon:{builtIn:"FaSlack"},name:"Slack",url:"https://arangodb-community.slack.com/"}]},searchSettings:{tabSettings:{isAllTabEnabled:!1,alwaysDisplayedTabs:["Official Docs","Developer Hub","Home"]}}}})}loadAndInitializeInkeep()</script><div class=version-selector><select id=arangodb-version onchange=changeVersion()><option value=3.13>3.13</option><option value=3.12>3.12</option><option value=3.11>3.11</option><option value=3.10>3.10</option><option value=3.9>3.9</option><option value=3.8>3.8</option></select></div></div></header><iframe src=/nav.html title=description id=menu-iframe class="menu-iframe active" style=opacity:0></iframe><div class=container-main><div class=row-main><nav id=breadcrumbs><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><meta itemprop=itemListOrder content="Descending"><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="3.12"><a itemprop=item class=link href=/3.12/><span itemprop=name class=breadcrumb-entry>3.12.5</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="GenAI & Data Science"><a itemprop=item class=link href=/3.12/data-science/><span itemprop=name class=breadcrumb-entry>GenAI & Data Science</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="GraphRAG"><a itemprop=item class=link href=/3.12/data-science/graphrag/><span itemprop=name class=breadcrumb-entry>GraphRAG</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="Services"><a itemprop=item class=link href=/3.12/data-science/graphrag/services/><span itemprop=name class=breadcrumb-entry>Services</span></a>
<i class="fas fa-chevron-right fa-fw"></i></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="MLflow"><a itemprop=item class=link href=/3.12/data-science/graphrag/services/mlflow/><span itemprop=name class=breadcrumb-entry>MLflow</span></a></li></ol></nav><article class=default><hgroup><h1>ArangoDB MLflow Service</h1><p class=lead>The ArangoDB MLflow Service integrates the MLflow platform for managing the full machine learning lifecycle into the ArangoDB Platform</p></hgroup><p class=labels><span class=label>ArangoDB Platform</span></p><div class="box notices cstyle tip"><div class=box-content-container><div class=box-content><i class="fas fa-check"></i><div class=box-text>The ArangoDB Platform & GenAI Suite is available as a pre-release. To get
exclusive early access, <a href=https://arangodb.com/contact/ target=_blank rel="noopener noreferrer" class=link>get in touch</a>&nbsp;<i class="fas fa-external-link-alt"></i> with
the ArangoDB team.</div></div></div></div><h2 id=overview>Overview <a href=/3.12/data-science/graphrag/services/mlflow/#overview class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>The ArangoDB MLflow service is a service that hosts the official MLflow
application in your Kubernetes cluster and connects automatically to the
ArangoDB environment, e.g. for registering the LLM to be self-hosted and
used by services requiring LLMs (such as the Importer and Retriever services).</p><p>MLflow is an open-source platform, purpose-built to assist machine learning
practitioners and teams in handling the complexities of the machine learning
process. It focuses on the full lifecycle for machine learning projects, ensuring
that each phase is manageable, traceable, and reproducible.</p><p>The main purpose of the ArangoDB&rsquo;s MLflow integration is to provide a seamless
experience to manage your machine learning models and experiments within the
ArangoDB environment. For example, any spawned LLM host service is automatically
linked to the MLflow service and is able to fetch any registered model from the
MLflow model registry.</p><div class="box notices cstyle tip"><div class=box-content-container><div class=box-content><i class="fas fa-check"></i><div class=box-text>ArangoDB&rsquo;s MLflow integration is only required when working with private LLMs.
For more information, see the <a href=/3.12/data-science/graphrag/services/triton-inference-server/ class=link>Triton LLM host</a>
documentation.</div></div></div></div><div class="box notices cstyle info"><div class=box-content-container><div class=box-content><i class="fas fa-info-circle"></i><div class=box-text>You can find detailed instructions about how to organize the format of a model for a
dedicated LLM host service in the official <a href=https://mlflow.org/docs/latest/index.html target=_blank rel="noopener noreferrer" class=link>MLflow</a>&nbsp;<i class="fas fa-external-link-alt"></i>
documentation.</div></div></div></div><h2 id=core-components>Core components <a href=/3.12/data-science/graphrag/services/mlflow/#core-components class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>MLflow consists of the following core components:</p><ul><li><strong>Model Registry</strong>: A centralized model store, set of APIs, and UI to
collaboratively manage the full lifecycle of an MLflow Model, including
model lineage, versioning, stage transitions, and annotations.</li><li><strong>Experiment Tracking</strong>: Provides an API and UI for logging parameters,
code versions, metrics, and artifacts during the ML process, allowing
for comparison of multiple runs across different users.</li><li><strong>Model Packaging</strong>: Offers a standard format for packaging models from any framework.</li><li><strong>Serving</strong>: Facilitates the deployment of models to various platforms.
Within the ArangoDB environment, this enables the integration with services that utilize self-hosted LLMs.</li><li><strong>Evaluation</strong>: Provides tools for in-depth model analysis, facilitating objective model comparison.</li><li><strong>Observability</strong>: Ensures that the ML lifecycle is traceable and reproducible through various metrics and logs.</li></ul><h2 id=quickstart>Quickstart <a href=/3.12/data-science/graphrag/services/mlflow/#quickstart class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>The ArangoDB MLflow service is <strong>started by default</strong>.</p><p>It is automatically spawned and available at the following URL:</p><pre tabindex=0><code>https://&lt;ExternalEndpoint&gt;:8529/mlflow/
</code></pre><p>You can interact with the ArangoDB MLflow service in two ways:</p><ul><li><strong>Programmatically</strong>: Using the official MLflow client</li><li><strong>Web Interface</strong>: Directly through your browser at the URL above</li></ul><p>To use the programmatic API, please use the <strong>official MLflow client</strong>.</p><div class="box notices cstyle info"><div class=box-content-container><div class=box-content><i class="fas fa-info-circle"></i><div class=box-text>The ArangoDB MLflow service requires authentication. You need a valid
Bearer token to access the service.</div></div></div></div><h3 id=obtaining-a-bearer-token>Obtaining a Bearer Token <a href=/3.12/data-science/graphrag/services/mlflow/#obtaining-a-bearer-token class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>Before you can authenticate with the MLflow service, you need to obtain a
Bearer token. You can generate this token using the ArangoDB authentication API:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -X POST https://&lt;ExternalEndpoint&gt;:8529/_open/auth <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  -d <span class=s1>&#39;{&#34;username&#34;: &#34;your-username&#34;, &#34;password&#34;: &#34;your-password&#34;}&#39;</span>
</span></span></code></pre></div><p>This returns a JWT token that you can use as your Bearer token.
For more details about ArangoDB authentication and JWT tokens, see the
<a href=https://docs.arangodb.com/stable/develop/http-api/authentication/#jwt-user-tokens target=_blank rel="noopener noreferrer" class=link>ArangoDB Authentication</a>&nbsp;<i class="fas fa-external-link-alt"></i>
documentation.</p><h2 id=installation>Installation <a href=/3.12/data-science/graphrag/services/mlflow/#installation class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>First, install the MLflow client:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>pip install <span class=nv>mlflow</span><span class=o>=</span>2.22.1
</span></span></code></pre></div><div class="box notices cstyle warning"><div class=box-content-container><div class=box-content><i class="fas fa-exclamation-triangle"></i><div class=box-text>MLflow version 3 introduces a breaking change that affects this workflow, so it is
important to use MLflow version 2.</div></div></div></div><p>There are two approaches for programmatic access to your ArangoDB MLflow service:</p><ul><li>Configuration in Python</li><li>Using environment variables</li></ul><h3 id=configuration-in-python>Configuration in Python <a href=/3.12/data-science/graphrag/services/mlflow/#configuration-in-python class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>mlflow</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Set authentication and tracking URI</span>
</span></span><span class=line><span class=cl><span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=p>[</span><span class=s1>&#39;MLFLOW_TRACKING_TOKEN&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=s1>&#39;your-bearer-token-here&#39;</span>
</span></span><span class=line><span class=cl><span class=n>mlflow</span><span class=o>.</span><span class=n>set_tracking_uri</span><span class=p>(</span><span class=s2>&#34;https://&lt;ExternalEndpoint&gt;:8529/mlflow/&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Start logging your experiments</span>
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=n>mlflow</span><span class=o>.</span><span class=n>start_run</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>mlflow</span><span class=o>.</span><span class=n>log_artifact</span><span class=p>(</span><span class=s2>&#34;local_file.txt&#34;</span><span class=p>)</span>
</span></span></code></pre></div><h3 id=using-environment-variables>Using environment variables <a href=/3.12/data-science/graphrag/services/mlflow/#using-environment-variables class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h3><p>Set the environment variables in your shell:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>export</span> <span class=nv>MLFLOW_TRACKING_URI</span><span class=o>=</span><span class=s2>&#34;https://&lt;ExternalEndpoint&gt;:8529/mlflow/&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>MLFLOW_TRACKING_TOKEN</span><span class=o>=</span><span class=s2>&#34;your-bearer-token-here&#34;</span>
</span></span></code></pre></div><p>Then use MLflow normally in your Python code:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>mlflow</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># MLflow automatically uses the environment variables</span>
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=n>mlflow</span><span class=o>.</span><span class=n>start_run</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>mlflow</span><span class=o>.</span><span class=n>log_artifact</span><span class=p>(</span><span class=s2>&#34;local_file.txt&#34;</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=health-check>Health check <a href=/3.12/data-science/graphrag/services/mlflow/#health-check class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>To test whether the service is running, you can use the following snippet:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -H <span class=s2>&#34;Authorization: Bearer your-bearer-token-here&#34;</span> https://&lt;ExternalEndpoint&gt;:8529/mlflow/health
</span></span></code></pre></div><p>Expected output on success: HTTP <code>200</code> status with response body <code>OK</code>.</p><h2 id=api-reference>API Reference <a href=/3.12/data-science/graphrag/services/mlflow/#api-reference class=header-link onclick=copyURI(event)><span></span><i class="fa fa-link"></i></a></h2><p>For detailed API documentation, refer to the official
<a href=https://mlflow.org/docs/latest/api_reference/rest-api.html target=_blank rel="noopener noreferrer" class=link>MLflow REST API Reference</a>&nbsp;<i class="fas fa-external-link-alt"></i>.</p><nav class=pagination><span class=prev><a class="nav nav-prev link" href=/3.12/data-science/graphrag/services/retriever/><i class="fas fa-chevron-left fa-fw"></i><p>Retriever</p></a></span><span class=next><a class="nav nav-next link" href=/3.12/data-science/graphrag/services/triton-inference-server/><p>Triton LLM Host</p><i class="fas fa-chevron-right fa-fw"></i></a></span></nav></article><div class=toc-container><a class=edit-page aria-label href=https://github.com/arangodb/docs-hugo/edit/main/site/content/3.12/data-science/graphrag/services/mlflow.md target=_blank><i class="fab fa-fw fa-github edit-page-icon"></i></a><div class=toc><div class=toc-content><div class=toc-header><p>On this page</p></div><nav id=TableOfContents><div class=level-2><a href=#overview>Overview</a></div><div class=level-2><a href=#core-components>Core components</a></div><div class=level-2><a href=#quickstart>Quickstart</a></div><div class=level-3><a href=#obtaining-a-bearer-token>Obtaining a Bearer Token</a></div><div class=level-2><a href=#installation>Installation</a></div><div class=level-3><a href=#configuration-in-python>Configuration in Python</a></div><div class=level-3><a href=#using-environment-variables>Using environment variables</a></div><div class=level-2><a href=#health-check>Health check</a></div><div class=level-2><a href=#api-reference>API Reference</a></div></nav></div></div></div></div></div></section></section></div><button class="back-to-top hidden" onclick=goToTop(event) href=#><i class="fa fa-arrow-up"></i></button><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3>
<script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3></script>
<script type=text/javascript>window.setupDocSearch=function(e){if(!window.docsearch)return;docsearch({appId:"OK3ZBQ5982",apiKey:"500c85ccecb335d507fe4449aed12e1d",indexName:"arangodbdocs",insights:!0,container:"#searchbox",debug:!1,maxResultsPerGroup:10,searchParameters:{facetFilters:[`version:${e}`]}})}</script></body></html>